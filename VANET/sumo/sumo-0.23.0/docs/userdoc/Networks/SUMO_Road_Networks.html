<!DOCTYPE html>

<html lang="en">
<head>
  <title>Networks/SUMO_Road_Networks - SUMO - Simulation of Urban Mobility</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="../sumo.css">
  <link rel="license" href=
  "http://creativecommons.org/licenses/by-sa/3.0/">
</head>

<body id="bmission">
  <div id="container">
    <div id="logo" style="text-align:left">
      <img src="../logo.png" width="128" height="128"
      alt="SUMO-Simulation of Urban Mobility" style=
      "float:left; margin-left:10px; margin-right:20px;">
      <div id="logo_text1">SUMO</div>
      <div id="logo_text2">Simulation of Urban MObility</div>
    </div>

    <div id="subsMenu">
      <ul>
        <li class="sub"><a href=
        "http://sumo-sim.org/">Home</a></li>

        <li class="sub"><a href="../Downloads.html">Download</a></li>

        <li class="sub"><a href="../index.html">Documentation</a></li>

        <li class="sub"><a href=
        "http://sumo-sim.org/wiki/">Wiki</a></li>

        <li class="sub"><a href=
        "http://sumo-sim.org/trac/">Trac</a></li>

        <li class="sub"><a href=
        "http://sumo-sim.org/blog/">Blog</a></li>

        <li class="sub"><a href="../Contact.html">Contact</a></li>

        <li class="sub"><a href=
        "http://sourceforge.net/projects/sumo/">SF-Project</a></li>
      </ul>
    </div>

    <div id="nav">
      <div id="step1">
        <h3>User</h3>
        <ul>
        <!-- nav begins --> <li><a href="../SUMO_User_Documentation.html">Introduction</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Sumo_at_a_Glance.html">The traffic simulation SUMO</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Basic_Usage">Basic Usage</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Basics/Notation.html">Notation in this Documentation</a></li>
  <li><a href="../Basics/Basic_Computer_Skills.html">Needed, basic Computer Skills</a></li>
  <li><a href="../Installing.html">Installing SUMO</a></li>
  <li><a href="../Basics/Using_the_Command_Line_Applications.html">Using SUMO Command Line Applications</a></li>
  <li><a href="../Tutorials.html">Tutorials</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Network_Building">Network Building</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Networks/SUMO_Road_Networks.html">SUMO Road Networks</a></li>
  <li><a href="../Networks/Abstract_Network_Generation.html">Abstract networks generation</a></li>
  <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Networks/Building_Networks_from_own_XML-descriptions.html">Defining own networks using XML</a></li>
   <li><a href="../Networks/Import.html">Importing non-SUMO networks</a></li>
<li style="list-style: none; display: inline"><ul>
    <li><a href="../Networks/Import/OpenStreetMap.html">... from OpenStreetMap</a></li>
    <li><a href="../Networks/Import/VISUM.html">... from VISUM</a></li>
    <li><a href="../Networks/Import/Vissim.html">... from Vissim</a></li>
    <li><a href="../Networks/Import/OpenDRIVE.html">... from OpenDRIVE</a></li>
    <li><a href="../Networks/Import/MATsim.html">... from MATsim</a></li>
    <li><a href="../Networks/Import/ArcView.html">... from ArcView (shapefiles)</a></li>
    <li><a href="../Networks/Import/DlrNavteq.html">... from Elmar's GDF</a></li>
    <li><a href="../Networks/Import/RoboCup.html">... from Robocup Simulation League</a></li>
</ul></li>
   <li><a href="../Networks/Import/SUMO_Road_Networks.html">Importing SUMO networks</a></li>
   <li><a href="../Simulation/Pedestrians.html#Building_a_network_for_pedestrian_simulation">Building networks for pedestrian simulation</a></li>
   <li><a href="../Networks/Further_Options.html">Further NETCONVERT options</a></li>
   <li><a href="../Networks/Further_Outputs.html">Additional output</a></li>
</ul></li>
</ul></li>
   <li><a href="../SUMO_User_Documentation.html#Demand_Modelling">Demand Modelling</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Introduction_to_demand_modelling_in_SUMO.html">Introduction to SUMO Demand Modelling</a></li>
  <li><a href="../Definition_of_Vehicles,_Vehicle_Types,_and_Routes.html">Definition of Vehicles, Vehicle Types, and Routes</a></li>
  <li><a href="../Simulation/Public_Transport.html">Simulation of public transport</a></li>
  <li><a href="../Specification/Persons.html">Simulation of individual persons and trip chains</a></li>
  <li><a href="../Specification/Logistics.html">Simulation of logistics</a></li>
  <li><a href="../Demand/Shortest_or_Optimal_Path_Routing.html">Shortest or Optimal Path Routing</a></li>
  <li><a href="../Demand/Automatic_Routing_.html">Routing in the Simulation</a></li>
  <li><a href="../Demand/Dynamic_User_Assignment.html">Computing Dynamic User Assignment</a></li>
</ul></li>
  <li>Data sources for demand generation</li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Demand/Importing_O/D_Matrices.html">Importing O/D Matrices</a></li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Demand/Further_Ways_to_import_VISUM_Demand_Definitions.html">Other VISUM Demand Importers</a></li>
   <li><a href="../Demand/Further_Ways_to_import_Vissim_Demand_Definitions.html">Other Vissim Demand Importers</a></li>
</ul></li>
  <li><a href="../Demand/Routes_from_Observation_Points.html">Routes from Observation Points</a></li>
  <li><a href="../Demand/Routing_by_Turn_Probabilities.html">Routing by Turn Probabilities</a></li>
  <li><a href="../Demand/Activity-based_Demand_Generation.html">Activity-based Demand Generation</a></li>
  <li><a href="../Tools/Trip.html#randomTrips.py">Random Trips</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Simulation">Simulation</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Simulation/Basic_Definition.html">Basic Definition</a></li>
  <li>Traffic Management and Other Structures</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Simulation/Traffic_Lights.html">Traffic Lights</a></li>
   <li><a href="../Simulation/Public_Transport.html">Public Transport</a></li>
   <li><a href="../Simulation/Variable_Speed_Signs.html">Variable Speed Signs</a></li>
   <li><a href="../Simulation/Rerouter.html">Rerouter / Alternative Route Signage</a></li>
   <li><a href="../Simulation/Vaporizer.html">Vaporizer</a></li>
   <li><a href="../Simulation/Calibrator.html">Dynamic calibration of flow and speed</a></li>
</ul></li>
  <li><a href="../Simulation/Output.html">Simulation output</a></li>
  <li><a href="../TraCI.html">TraCI (On-line Interaction)</a></li>
  <li><a href="../Simulation/Pedestrians.html">Pedestrian simulation</a></li>
  <li><a href="../Simulation/Shapes.html">Shapes Visualisation</a></li>
  <li><a href="../Models/Emissions.html">Emissions</a></li>
  <li><a href="../Simulation/VehicleSpeed.html">Vehicle speed</a></li>
  <li><a href="../Simulation/Randomness.html">Randomness</a></li>
  <li><a href="../Simulation/GenericParameters.html">Generic Parameters</a></li>
  <li>Common Problems</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Simulation/Why_Vehicles_are_teleporting.html">Why Vehicles are teleporting</a></li>
</ul></li>
</ul></li>
   <li><a href="../SUMO_User_Documentation.html#Theory">Theory</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Theory/Traffic_Simulations.html">Traffic simulations in general</a></li>
</ul></li>
  <li><a href="../SUMO_User_Documentation.html#Appendices">Appendices</a></li>
<li style="list-style: none; display: inline"><ul>
  <li><a href="../Other/Glossary.html">Glossary</a></li>
  <li><a href="../FAQ.html">FAQ</a></li>
  <li><a href="../Tools/Main.html">Additional Tools</a></li>
  <li><a href="../Other/File_Extensions.html">Known File Extensions</a></li>
  <li>Application Manuals</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../SUMO.html">SUMO</a></li>
   <li><a href="../SUMO-GUI.html">SUMO-GUI</a></li>
   <li><a href="../NETCONVERT.html">NETCONVERT</a></li>
   <li><a href="../NETGENERATE.html">NETGENERATE</a></li>
   <li><a href="../OD2TRIPS.html">OD2TRIPS</a></li>
   <li><a href="../DUAROUTER.html">DUAROUTER</a></li>
   <li><a href="../JTRROUTER.html">JTRROUTER</a></li>
   <li><a href="../DFROUTER.html">DFROUTER</a></li>
   <li><a href="../MAROUTER.html">MAROUTER</a></li>
   <li><a href="../POLYCONVERT.html">POLYCONVERT</a></li>
   <li><a href="../ACTIVITYGEN.html">ACTIVITYGEN</a></li>
</ul></li>
  <li>Tool Manuals</li>
<li style="list-style: none; display: inline"><ul>
   <li><a href="../Tools/TraceExporter.html">Tools/TraceExporter</a></li>
   <li><a href="../Tools/Visualization.html">Tools/Visualization</a></li>
   <li><a href="../Tools/Emissions.html">Tools/Emissions</a></li>
</ul></li>
  <li><a href="../ChangeLog.html">ChangeLog</a></li>
</ul></li>
<!-- nav ends -->
        </ul>
      </div>

      <div id="step2">
        <h3>Further Resources</h3>

        <ul>
          <li><a href="../Data/Networks.html">Example
          Networks</a></li>

          <li><a href="../Data/Scenarios.html">Example
          Scenarios</a></li>

          <li><a href="../Data/Traffic_Data.html">Traffic
          Data</a></li>
        </ul>
      </div>

      <div id="step3">
        <h3>Developer</h3>

        <ul>
          <li><a href="../Developer/Main.html">Developer Docs</a></li>

          <li><a href="http://sumo-sim.org/daily/">Daily Tests
          Status</a></li>

          <li><a href="../../doxygen/">Doxygen Documentation</a></li>

          <li>Python Modules Documentation</li>

          <li style="list-style: none; display: inline">
            <ul>
              <li><a href="../../pydoc/traci.html">traci</a></li>

              <li><a href="../../pydoc/sumolib.html">sumolib</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="content">
      <a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Networks/SUMO Road Networks</span></h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
								<!-- tagline -->
				<div id="siteSub">generated on 2015-03-31 10:30:54.991100 from <a href="http://sumo.dlr.de/wiki/Networks/SUMO_Road_Networks">the wiki page for Networks/SUMO_Road_Networks</a> for SUMO 0.23.0</div>
				<!-- /tagline -->
								<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				
				<!-- /jumpto -->
								<!-- bodycontent -->
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table class="wikitable" style="width:25em; border-width:1px 1px; border-style:solid; border-color:#909090; background-color:#f8f8ff; font-size:90%; margin:1em 0em 1em 2em; padding:3px 6px">
<caption> <b>SUMO road network</b>
</caption>
<tr>
<td width="45%"> Filename extension </td>
<td> .net.xml
</td></tr>
<tr>
<td> Type of content </td>
<td> Map
</td></tr>
<tr>
<td> Open format? </td>
<td> Yes
</td></tr>
<tr>
<td> SUMO specific? </td>
<td> Yes
</td></tr>
<tr>
<td> XML Schema
</td>
<td> <a rel="nofollow" class="external text" href="http://sumo.sf.net/doc/current/docs/xsd/net_file.xsd">net_file.xsd</a>
</td></tr></table>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="../images/Eichstaett.net.png" class="image"><img alt="" src="../images/Eichstaett.net.png" width="400" height="269" class="thumbimage" srcset="/w/images/thumb/c/c2/Eichstaett.net.png/600px-Eichstaett.net.png 1.5x, /w/images/thumb/c/c2/Eichstaett.net.png/800px-Eichstaett.net.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../images/Eichstaett.net.png" class="internal" title="Enlarge"><img src="../images//magnify-clip.png" width="15" height="11" alt="" /></a></div>Screenshot of a SUMO net file opened in sumo-gui. It shows the map of the German city Eichstätt.</div></div></div>
<p>A <b>SUMO network file</b> describes the traffic-related part of a map, the roads and intersections the simulated vehicles run along or across. At a coarse scale, a SUMO network is a directed graph. Nodes, usually named "junctions" in SUMO-context, represent intersections, and "edges" roads or streets. Note that edges are unidirectional. Specifically, the SUMO network contains the following information:
</p>
<ul><li> every street (edge) as a collection of lanes, including the position, shape and speed limit of every lane,
</li><li> traffic light logics referenced by junctions,
</li><li> junctions, including their right of way regulation,
</li><li> connections between lanes at junctions (nodes).
</li></ul>
<p>Also, depending on the used input formats and set processing options, one can also find
</p>
<ul><li> districts,
</li><li> roundabout descriptions.
</li></ul>
<p><b>Although being readable (XML) by human beings, a SUMO network file is not meant to be edited by hand.</b> Rather you should use <a href="../Networks/Building_Networks_from_own_XML-descriptions.html" title="Networks/Building Networks from own XML-descriptions">SUMO XML description files</a> together with <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a>. You can also convert an existing map from various formats using <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> or generate geometrically simple, abstract road maps with <a href="../NETGENERATE.html" title="NETGENERATE">NETGENERATE</a>. To modify an existing <i>.net.xml</i>-file you may <a href="../Networks/Import/SUMO_Road_Networks.html" title="Networks/Import/SUMO Road Networks">load it with NETCONVERT along with patch files</a> You may also use <a href="../NETEDIT.html" title="NETEDIT">NETEDIT</a> for building own road networks or for reworking the ones obtained from <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> or <a href="../NETGENERATE.html" title="NETGENERATE">NETGENERATE</a>.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Network_Format"><span class="tocnumber">1</span> <span class="toctext">Network Format</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Coordinates_and_alignment"><span class="tocnumber">1.1</span> <span class="toctext">Coordinates and alignment</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Edges_and_Lanes"><span class="tocnumber">1.2</span> <span class="toctext">Edges and Lanes</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Internal_Edges"><span class="tocnumber">1.2.1</span> <span class="toctext">Internal Edges</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Normal_Edges"><span class="tocnumber">1.2.2</span> <span class="toctext">Normal Edges</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Lanes"><span class="tocnumber">1.2.3</span> <span class="toctext">Lanes</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Traffic_Light_Programs"><span class="tocnumber">1.3</span> <span class="toctext">Traffic Light Programs</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Junctions_and_Right-of-Way"><span class="tocnumber">1.4</span> <span class="toctext">Junctions and Right-of-Way</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Plain_Junctions"><span class="tocnumber">1.4.1</span> <span class="toctext">Plain Junctions</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Requests"><span class="tocnumber">1.4.2</span> <span class="toctext">Requests</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Internal_Junctions"><span class="tocnumber">1.4.3</span> <span class="toctext">Internal Junctions</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Connections"><span class="tocnumber">1.5</span> <span class="toctext">Connections</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Plain_Connections"><span class="tocnumber">1.5.1</span> <span class="toctext">Plain Connections</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#Roundabouts"><span class="tocnumber">1.6</span> <span class="toctext">Roundabouts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Software_for_Viewing.2C_Editing_and_Processing"><span class="tocnumber">2</span> <span class="toctext">Software for Viewing, Editing and Processing</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Further_Documentation"><span class="tocnumber">3</span> <span class="toctext">Further Documentation</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Network_Format">Network Format</span></h2>
<p>SUMO road networks are encoded as XML files. The contents are grouped by the instances in the following order:
</p>
<ul><li> cartographic projection valid for this network
</li><li> edges; at first, internal edges are given, then plain edges; each edge contains the list of lanes that belong to it
</li><li> traffic light logics
</li><li> junctions, including their right-of-way definitions; plain junctions first, then internal junctions
</li><li> connections, plain first, then internal
</li><li> optionally roundabouts
</li></ul>
<h3> <span class="mw-headline" id="Coordinates_and_alignment">Coordinates and alignment</span></h3>
<p>The networks are using cartesian, metric coordinates where the leftmost node is at x=0 and the node being most at the bottom is at y=0. This means that when being imported, <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> and <a href="../NETGENERATE.html" title="NETGENERATE">NETGENERATE</a> are projecting the network, first, if the original network was not using cartesian and/or metric coordinates. Then, they move the road network to the origin at (0,0). 
</p><p>This process is documented within the generated network within the element <span class="inlxml">location</span>. You may find here the following attributes:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> netOffset
</td>
<td> offset (<a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;2D-POSITION&gt;</i></a>)
</td>
<td> The offset applied for moving the network to (0,0)
</td></tr>
<tr>
<td class="inlxml"> convBoundary
</td>
<td> boundary (<a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;2D-BOUNDING_BOX&gt;</i></a>)
</td>
<td> The boundary spanning over the nodes of the converted network (the network as now given)
</td></tr>
<tr>
<td class="inlxml"> origBoundary
</td>
<td> boundary (<a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;2D-BOUNDING_BOX&gt;</i></a>)
</td>
<td> The network's initial boundary before projecting and translating it
</td></tr>
<tr>
<td class="inlxml"> projParameter
</td>
<td> projection parameter
</td>
<td> Information how the network was projected (see below)
</td></tr></table>
<p><br />
<span class="inlxml">projParameter</span> may have one of the following values:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Encoding
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> '!'
</td>
<td> No projection was applied.
</td></tr>
<tr>
<td class="inlxml"> '-'
</td>
<td> "Simple" projection was applied
</td></tr>
<tr>
<td class="inlxml"> '.'
</td>
<td>&#160;?
</td></tr>
<tr>
<td class="inlxml"> proj-definition (<a href="../Basics/Notation.html#Referenced_Data_Types" title="Basics/Notation"><i>&lt;PROJ_DEFINITION&gt;</i></a>)
</td>
<td> The projection was done using proj, initialising it using these parameter.
</td></tr></table>
<p><br />
For obtaining the original coordinates from the x/y-coordinates SUMO reports, one has to subtract the network offset first. Then, one has to apply an inverse transformation of the initial projection, regarding <span class="inlxml">projParameter</span>. For proj-projected networks, one can use proj's function named pj_inv which performs the inverse transformation. proj has to be initialised with the projection parameters from <span class="inlxml">projParameter</span>, first. For proj-projected networks this would look like:
</p>
<pre>Position2D cartesian = sumoXY(x, y);
projPJ myProjection = pj_init_plus(projParameter.c_str());
cartesian.sub(netOffset);
projUV p;
p.u = cartesian.x();
p.v = cartesian.y();
p = pj_inv(p, myProjection);
p.u *= RAD_TO_DEG;
p.v *= RAD_TO_DEG;
cartesian.set((SUMOReal) p.u, (SUMOReal) p.v);
</pre>
<p>For networks with no projection (<span class="inlxml">projParameter</span>='!'), only the offset must be applied. For networks with "simple" projection (<span class="inlxml">projParameter</span>='-'), a back-projection method is currently not known.
</p><p>SUMO road networks are meant to be aligned to the north. Of course, it is up to the user how he defines a road network, but when being imported from sources as Open Street Map or shape files, the up-direction is meant to correspond to north.
</p>
<h3> <span class="mw-headline" id="Edges_and_Lanes">Edges and Lanes</span></h3>
<p>"plain" and "internal" edges are encoded almost the same way, but they differ by the mandatory and used attributes. 
</p>
<h4> <span class="mw-headline" id="Internal_Edges">Internal Edges</span></h4>
<p>Internal edges are not included if the network was built using the <span style="color: #111144; font-weight: bold; white-space: pre;">--no-internal-links</span> option. An example of an internal edge may look like this:
</p>
<pre class="xml">
    &lt;edge id=&quot;&lt;ID&gt;&quot; function=&quot;internal&quot;&gt;
        ... one lane ...
    &lt;/edge&gt;
</pre>
<p>The id of an internal edge is composed as&#160;:<i>&lt;NODE_ID&gt;</i>_<i>&lt;CONNECTION_NUMBER&gt;</i> where <i>&lt;NODE_ID&gt;</i> is the ID of the node the edge is located within and <i>&lt;CONNECTION_NUMBER&gt;</i> is a running number. Please note that the ID has a ':' as prefix. Currently, an internal edge has only one lane - the connection it represents. This is assumed to be a candidate for future changes, mainly for reducing the file size.
</p><p>The attributes are given in the following table.
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>id</b>
</td>
<td> id (string)
</td>
<td> The id of the internal edge
</td></tr>
<tr>
<td class="inlxml"> <b>function</b>
</td>
<td> "<span class="inlxml">internal</span>"
</td>
<td> Always "<span class="inlxml">internal</span>" for an internal edge
</td></tr></table>
<h4> <span class="mw-headline" id="Normal_Edges">Normal Edges</span></h4>
<p>A "normal" edge is a connection between two nodes ("junctions").
</p>
<pre class="xml">
    &lt;edge id=&quot;&lt;ID&gt;&quot; from=&quot;&lt;FROM_NODE_ID&gt;&quot; to=&quot;&lt;TO_NODE_ID&gt;&quot; priority=&quot;&lt;PRIORITY&gt;&quot;&gt;
        ... one or more lanes ...
    &lt;/edge&gt;
</pre>
<p>Here, the ID (<i>&lt;ID&gt;</i> in the example above) is an ID as read during the network import. Both the IDs of the begin and the end node are given within the attributes <span class="inlxml">from</span> and <span class="inlxml">to</span>, respectively. The priority is an abstract ordinal number that determines right-of-way rules. The <span class="inlxml">function</span> attribute was omitted in the example above, as it defaults to "<span class="inlxml">normal</span>", which is the example edge's <span class="inlxml">function</span> value.
</p><p>The attributes of an edge are:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> id
</td>
<td> id (string)
</td>
<td> The id of the edge
</td></tr>
<tr>
<td class="inlxml"> from
</td>
<td> id (string)
</td>
<td> The id of the node it starts at
</td></tr>
<tr>
<td class="inlxml"> to
</td>
<td> id (string)
</td>
<td> The id of the node it ends at
</td></tr>
<tr>
<td class="inlxml"> priority
</td>
<td> integer
</td>
<td> Indicates how important the road is (optional)
</td></tr>
<tr>
<td class="inlxml"> function
</td>
<td> enum ( "<span class="inlxml">normal</span>", "<span class="inlxml">internal</span>", "<span class="inlxml">connector</span>" )
</td>
<td> An abstract edge purpose (optional with default "<span class="inlxml">normal</span>")
</td></tr></table>
<p>For the simulation, only the "function" attribute is of interest. It describes how the edge is used, and whether it is an edge that can be found within the real world or only a helper construct used for assignment. The following purposes are defined:
</p>
<ul><li> <span class="inlxml">normal</span>: The edge is a plain part of a road network, like a highway or a normal street which connects two roads
</li><li> <span class="inlxml">connector</span>: The edge is a macroscopic connector - not a part of the real world road network. Still, within the simulation, no distinction is made between "connector" roads and "normal" nodes. Only <a href="../SUMO-GUI.html" title="SUMO-GUI">SUMO-GUI</a> allows to hide connector edges.
</li><li> <span class="inlxml">internal</span>: The edge is a part of an intersection (is located within the intersection), see above.
</li></ul>
<h4> <span class="mw-headline" id="Lanes">Lanes</span></h4>
<p>Each edge includes the definitions of lanes it consists of. The following example shows a single edge with two lanes.
</p>
<pre class="xml">
    &lt;edge id=&quot;&lt;ID&gt;&quot; from=&quot;&lt;FROM_NODE_ID&gt;&quot; to=&quot;&lt;TO_NODE_ID&gt;&quot; priority=&quot;&lt;PRIORITY&gt;&quot;&gt;
        &lt;lane id=&quot;&lt;ID&gt;_0&quot; index=&quot;0&quot; speed=&quot;&lt;SPEED&gt;&quot; length=&quot;&lt;LENGTH&gt;&quot; shape=&quot;0.00,495.05 248.50,495.05&quot;/&gt;
        &lt;lane id=&quot;&lt;ID&gt;_1&quot; index=&quot;1&quot; speed=&quot;&lt;SPEED&gt;&quot; length=&quot;&lt;LENGTH&gt;&quot; shape=&quot;0.00,498.35 248.50,498.35&quot;/&gt;
    &lt;/edge&gt;
</pre>
<p>As one can see, the id is composed by the ID of the edge the lane belongs to and a running number, both divided by an underline ('_'). The running number starts at zero for the right-most lane. The same number is also given in the "<span class="inlxml">index</span>" attribute. The lanes are sorted by this number, too. @note: this is highly duplicate
</p><p>The attributes of a lane are:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>id</b>
</td>
<td> id (string)
</td>
<td> The id of the lane
</td></tr>
<tr>
<td class="inlxml"> <b>index</b>
</td>
<td> running number (unsigned int)
</td>
<td> A running number, starting with zero at the right-most lane
</td></tr>
<tr>
<td class="inlxml"> <b>speed</b>
</td>
<td> float
</td>
<td> The maximum speed allowed on this lane [m/s]
</td></tr>
<tr>
<td class="inlxml"> <b>length</b>
</td>
<td> float
</td>
<td> The length of this lane [m]
</td></tr>
<tr>
<td class="inlxml"> <b>shape</b>
</td>
<td> position vector
</td>
<td> The geometry of the lane, given by a polyline that describes the lane's centre line; must not be empty or have less than two positions
</td></tr></table>
<p>It should be noted, that currently all lanes of an edge have the same length, even if it differs from the geometrical length of the shape. <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> even explicitly allows to override the geometrical lengths. Additionally, even though the network is shifted to start at (0,0), it is not guaranteed that all of the network's parts have positive coordinates.
</p>
<h3> <span class="mw-headline" id="Traffic_Light_Programs">Traffic Light Programs</span></h3>
<p>A traffic light program defines the phases of a traffic light. 
</p>
<pre class="xml">
    &lt;tlLogic id=&quot;&lt;ID&gt;&quot; type=&quot;&lt;ALGORITHM_ID&gt;&quot; programID=&quot;&lt;PROGRAM_ID&gt;&quot; offset=&quot;&lt;TIME_OFFSET&gt;&quot;&gt;
        &lt;phase duration=&quot;&lt;DURATION#1&gt;&quot; state=&quot;&lt;STATE#1&gt;&quot;/&gt;
        &lt;phase duration=&quot;&lt;DURATION#1&gt;&quot; state=&quot;&lt;STATE#1&gt;&quot;/&gt;
        ... further states ...
        &lt;phase duration=&quot;&lt;DURATION#n&gt;&quot; state=&quot;&lt;STATE#n&gt;&quot;/&gt;
    &lt;/tlLogic&gt;
</pre>
<p>For an explanation of the attributes and semantics, please consult <a href="../Simulation/Traffic_Lights.html" title="Simulation/Traffic Lights">Simulation/Traffic Lights</a>. Please note that usually, the generated program has the ID "0".
</p>
<h3> <span class="mw-headline" id="Junctions_and_Right-of-Way">Junctions and Right-of-Way</span></h3>
<h4> <span class="mw-headline" id="Plain_Junctions">Plain Junctions</span></h4>
<p>Junctions represent the area where different streams cross, including the right-of-way rules vehicles have to follow when crossing the intersection. An example may be:
</p>
<pre class="xml">
    &lt;junction id=&quot;&lt;ID&gt;&quot; type=&quot;&lt;JUNCTION_TYPE&gt;&quot; x=&quot;&lt;X-POSITION&gt;&quot; y=&quot;&lt;Y-POSITION&gt;&quot; 
              incLanes=&quot;&lt;INCOMING_LANES&gt;&quot; intLanes=&quot;&lt;INTERNAL_LANES&gt;&quot; 
              shape=&quot;&lt;SHAPE&gt;&quot;&gt;
        ... requests ...
    &lt;/junction&gt;
</pre>
<p>The junction itself is described by the following attributes:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>id</b>
</td>
<td> id (string)
</td>
<td> The id of the junction; please note, that a traffic light definition must use the same ID when controlling this intersection.
</td></tr>
<tr>
<td class="inlxml"> <b>x</b>
</td>
<td> x-position (real)
</td>
<td> The x-coordinate of the intersection
</td></tr>
<tr>
<td class="inlxml"> <b>y</b>
</td>
<td> y-position (real)
</td>
<td> The y-coordinate of the intersection
</td></tr>
<tr>
<td class="inlxml"> <b>incLanes</b>
</td>
<td> id list
</td>
<td> The ids of the lanes that end at the intersection; sorted by direction, clockwise, with direction up = 0
</td></tr>
<tr>
<td class="inlxml"> <b>intLanes</b>
</td>
<td> id list
</td>
<td> The IDs of the lanes within the intersection
</td></tr>
<tr>
<td class="inlxml"> <b>shape</b>
</td>
<td> position list
</td>
<td> A polygon describing the road boundaries of the intersection
</td></tr></table>
<p>Please note, that the x/y-positions of the junction describe the given, not the computed centre of the junction. It is allowed for two nodes to have the same position.
</p>
<h4> <span class="mw-headline" id="Requests">Requests</span></h4>
<p>What follows are "<span class="inlxml">request</span>"s, looking like:
</p>
<pre class="xml">
        &lt;request index=&quot;&lt;INDEX&gt;&quot; response=&quot;&lt;RELATIVE_MAJOR_LINKS&gt;&quot; foes=&quot;&lt;FOE_LINKS&gt;&quot; cont=&quot;&lt;MAY_ENTER&gt;&quot;/&gt;
</pre>
<p>They describe, for each link (given as "<span class="inlxml">index</span>") which streams have a higher priority ("<span class="inlxml">response</span>") and force the vehicle on link "<span class="inlxml">index</span>" to stop, and which streams are in conflict ("foes"). "<span class="inlxml">foes</span>" is a super-set of "<span class="inlxml">response</span>", adding streams that have a lower priority than the stream referenced as "<span class="inlxml">index</span>".
</p><p>One can read the requests as following: the index describes a certain connection, between an incoming and an outgoing lane, over the intersection. The indices are computed connection-wise and the order is as following: first, sort edges by their direction, starting with 0° (up); second, use lane order (right-most-first); third, order by the direction the connection follows, starting by the right-most.
</p><p>The same order is applied in the "response" and the "foes" field, starting from right. This means:
</p>
<pre class="xml">
        &lt;request index=&quot;2&quot; response=&quot;100&quot; foes=&quot;110&quot; cont=&quot;0&quot;/&gt;
</pre>
<p>The a vehicle using the connection with the index "2" has to wait for vehicles that use the connection "2". Connections "1" and "2" are its foes.
The attributes of a request element are:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>index</b>
</td>
<td> index (unsigned int)
</td>
<td> The index of the described connection in the right-of-way matrix
</td></tr>
<tr>
<td class="inlxml"> <b>response</b>
</td>
<td> bitset (string)
</td>
<td> A bitset, starting at 0=left, which describes which connection (index in the bitset) prohibits the un-decelerated passing of the intersection for vehicles at this connection
</td></tr>
<tr>
<td class="inlxml"> <b>foes</b>
</td>
<td> bitset  (string)
</td>
<td> A bitset, starting at 0=left, which describes which connection (index in the bitset) are foes for vehicles at this connection; "foe streams" are those streams over an intersection that collide
</td></tr>
<tr>
<td class="inlxml"> <b>cont</b>
</td>
<td> bool
</td>
<td> Whether a vehicle may enter the intersection, but may not pass it in every case; left-moving streams belong to this class, usually.
</td></tr></table>
<div style="background: #ffcc44; padding: .5em; border: 1px dashed #ff8800; margin-right:10px; margin-left:10px;"><b>Caution:</b><br />The bitstrings in attributes <span class="inlxml">response</span> and <span class="inlxml">foes</span> must be read from right to left (response to link 0 is the rightmost entry) in contrast to <span class="inlxml">tlLogic</span>-<span class="inlxml">state</span> strings which are read from left to right (state of link 0 is the leftmost entry).</div>
<h4> <span class="mw-headline" id="Internal_Junctions">Internal Junctions</span></h4>
<p>"internal" junctions do not need a right-of-way matrix but only following information
</p>
<ul><li> the lanes that are incoming into the junction the internal junction is located in and prohibit to pass the internal junction if a vehicle is approaching 
</li><li> the internal lanes that must not be occupied for crossing the internal junction
</li></ul>
<p>An internal junction is encoded like this:
</p>
<pre class="xml">
        &lt;junction id=&quot;&lt;ID&gt;&quot; type=&quot;internal&quot; x=&quot;&lt;X-POSITION&gt;&quot; y=&quot;&lt;Y-POSITION&gt;&quot; 
                  incLanes=&quot;&lt;INCOMING_PROHIBITING_LANES&gt;&quot; 
                  intLanes=&quot;&lt;INTERNAL_PROHIBITING_LANES&gt;&quot;/&gt;
</pre>
<p>The ID is the same as the lane to use when crossing the internal junction itself. The type is always "internal". Please note that an internal junction is usually encoded in one line. The attributes of an internal junction are:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>id</b>
</td>
<td> id (string)
</td>
<td> The id of the junction; please note, that a traffic light definition must use the same ID when controlling this intersection.
</td></tr>
<tr>
<td class="inlxml"> <b>x</b>
</td>
<td> x-position (real)
</td>
<td> The x-coordinate of the intersection
</td></tr>
<tr>
<td class="inlxml"> <b>y</b>
</td>
<td> y-position (real)
</td>
<td> The y-coordinate of the intersection
</td></tr>
<tr>
<td class="inlxml"> <b>incLanes</b>
</td>
<td> id list
</td>
<td> The ids of the lanes that end at the intersection the internal junction is located within and prohibit to cross the internal junction
</td></tr>
<tr>
<td class="inlxml"> <b>intLanes</b>
</td>
<td> id list
</td>
<td> The ids of the lanes within the intersection the internal junction is located within and prohibit to cross the internal junction
</td></tr></table>
<h3> <span class="mw-headline" id="Connections">Connections</span></h3>
<h4> <span class="mw-headline" id="Plain_Connections">Plain Connections</span></h4>
<p>Plain connections or "links" describe which outgoing lanes can be reached from an incoming lane. Additionally, the first lane to use for passing the intersection is given. Additional information describe the direction and the "state" of the connection. If the connection is controlled by a traffic light, the name of the traffic light and the index of the signal that controls this connection within the traffic light's phase definition is given. A connection is encoded as:
</p>
<pre class="xml">
    &lt;connection from=&quot;&lt;FROM_EDGE_ID&gt;&quot; to=&quot;&lt;TO_EDGE_ID&gt;&quot; fromLane=&quot;&lt;FROM_LANE_INDEX&gt;&quot; toLane=&quot;&lt;TO_LANE_INDEX&gt;&quot; 
                via=&quot;&lt;VIA_LANE_ID&gt;&quot; tl=&quot;&lt;FROM_EDGE_ID&gt;&quot; linkIndex=&quot;12&quot; dir=&quot;r&quot; state=&quot;o&quot;/&gt;
</pre>
<p>The attributes are:
</p>
<table cellspacing="0" border="1" align="center" width="80%">

<tr>
<th style="background:#ffbdee;"> Name
</th>
<th style="background:#ffbdee;"> Type
</th>
<th style="background:#ffbdee;"> Description
</th></tr>
<tr>
<td class="inlxml"> <b>from</b>
</td>
<td> edge id (string)
</td>
<td> The ID of the incoming edge at which the connection begins
</td></tr>
<tr>
<td class="inlxml"> <b>to</b>
</td>
<td> edge id (string)
</td>
<td> The ID of the outgoing edge at which the connection ends
</td></tr>
<tr>
<td class="inlxml"> <b>fromLane</b>
</td>
<td> index (unsigned int)
</td>
<td> The lane of the incoming edge at which the connection begins
</td></tr>
<tr>
<td class="inlxml"> <b>toLane</b>
</td>
<td> index (unsigned int)
</td>
<td> The lane of the outgoing edge at which the connection ends
</td></tr>
<tr>
<td class="inlxml"> <b>via</b>
</td>
<td> lane id (string)
</td>
<td> The id of the lane to use to pass this connection across the junction
</td></tr>
<tr>
<td class="inlxml"> <b>tl</b>
</td>
<td> traffic light id (string)
</td>
<td> The id of the traffic light that controls this connection; the attribute is missing if the connection is not controlled by a traffic light
</td></tr>
<tr>
<td class="inlxml"> <b>linkIndex</b>
</td>
<td> index (unsigned int)
</td>
<td> The index of the signal responsible for the connection within the traffic light; the attribute is missing if the connection is not controlled by a traffic light
</td></tr>
<tr>
<td class="inlxml"> <b>dir</b>
</td>
<td> enum ("s" = straight, "t" = turn, "l" = left, "r" = right, "L" = partially left, R = partially right, "invalid" = no direction)
</td>
<td> The direction of the connection
</td></tr>
<tr>
<td class="inlxml"> <b>state</b>
</td>
<td> enum ("-" = dead end, "=" = equal, "m" = minor link, "M" = major link, traffic light only: "O" = controller off, "o" = yellow flashing, "y" = yellow minor link, "Y" = yellow major link, "r" = red, "g" = green minor, "G" green major)
</td>
<td> The state of the connection
</td></tr></table>
<p>When creating these connections without Netconvert (not recommended) it should be taken into account that a connection with an internal lane follows a special pattern. For example when lane 1_f_0 needs to be connected to 1_t_0 through 1_v_0, the following connection entries exist: [from=1_f_0, to=1_t_0 via=1_v_0] and [from=1_v_0 to=1_t_0]. If the latter is omitted, SUMO will not load the network. It will also not load if next to the necessary connections a connection [from=1_f_0 to=1_v_0] exists.
</p>
<h3> <span class="mw-headline" id="Roundabouts">Roundabouts</span></h3>
<p>Roundabouts in a network influence the right of way (encoded in the [[Networks/SUMO_Road_Networks#Requests|<span class="inlxml">&lt;request&gt;</span> elements of a junction during network building). Their presence in the network file has two reasons:
</p>
<ul><li> It facillitates re-importing a <i>.net.xml</i>-file with <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a>
</li><li> lane-changing models may take roundabouts into account
</li></ul>
<p>Each roundabout is defined (somewhat redundantly) by its nodes and edges:
</p>
<pre> &lt;roundabout nodes="nodeID1 nodeID2 ..." edges="edgeID1 edgeID2 ..."/&gt;
</pre>
<h2> <span class="mw-headline" id="Software_for_Viewing.2C_Editing_and_Processing"> Software for Viewing, Editing and Processing </span></h2>
<p>To create a SUMO network file, <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> helps to generate it from maps in other formats and <a href="../NETGENERATE.html" title="NETGENERATE">NETGENERATE</a> constructs a new map with simple geometries. <a href="../SUMO.html" title="SUMO">SUMO</a> performs its simulation directly in the map of this file. Most other SUMO tools read such files to generate or import information that must be the mapped onto a road network.
</p><p>The SUMO net file is not meant for direct editing. Convert it to the <a href="../Networks/Building_Networks_from_own_XML-descriptions.html" title="Networks/Building Networks from own XML-descriptions">SUMO native XML descriptions</a> with <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> instead. You can then process these files by hand or, for example, with <a rel="nofollow" class="external text" href="http://eworld.sourceforge.net">eWorld</a>.
</p><p>An application for editing the networks named <a href="../NETEDIT.html" title="NETEDIT">NETEDIT</a> is available for project partners. It is not part of the open source release. Please ask us directly.
</p>
<h2> <span class="mw-headline" id="Further_Documentation">Further Documentation</span></h2>
<ul><li> Network Import
<ul><li><ul><li> <a href="../Networks/Building_Networks_from_own_XML-descriptions.html" title="Networks/Building Networks from own XML-descriptions">Defining own networks using XML and NETCONVERT</a>
</li><li> <a href="../Networks/Import.html" title="Networks/Import">Importing networks from other applications using NETCONVERT</a>
</li></ul>
</li><li> <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> manual
</li></ul>
</li><li> Generation of abstract road networks
<ul><li> <a href="../Networks/Abstract_Network_Generation.html" title="Networks/Abstract Network Generation">Generating abstract networks using NETGENERATE</a>
</li><li> <a href="../NETGENERATE.html" title="NETGENERATE">NETGENERATE</a> manual
</li></ul>
</li><li> <a href="../NETEDIT.html" title="NETEDIT">NETEDIT</a> manual
</li><li> <a href="../Developer/Network_Building_Process.html" title="Developer/Network Building Process">Developer/Network Building Process</a>
</li></ul>
<div style="background: #ffffdd; padding: .5em; border: 1px dashed #ffcc44; margin-right:10px; margin-left:10px;"><b>Note:</b><br />Please see the <a href="../ChangeLog.html" title="ChangeLog">ChangeLog</a> when dealing with networks generated by old versions of <a href="../NETCONVERT.html" title="NETCONVERT">NETCONVERT</a> / <a href="../NETGENERATE.html" title="NETGENERATE">NETGENERATE</a>.</div>

<!-- 
NewPP limit report
Preprocessor visited node count: 274/1000000
Preprocessor generated node count: 762/1000000
Post‐expand include size: 1777/2097152 bytes
Template argument size: 838/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sumoSimWiki:pcache:idhash:185-0!*!0!!en!2!* and timestamp 20150330093145 -->
</div>				<!-- /bodycontent -->
								<!-- printfooter -->
				</div><hr/><div id="lastmod">This page was last modified on 7 November 2014, at 09:45.</div> </div>

    <div id="footer">
      <div>
        (c) 2011-2013, German Aerospace Center, Institute of
        Transportation Systems
      </div>

      <div>
        Layout based on <a href=
        "http://www.oswd.org/design/preview/id/3365">"Three
        Quarters"</a> by "SimplyGold"
      </div>
    </div>
  </div>
</body>
</html>
